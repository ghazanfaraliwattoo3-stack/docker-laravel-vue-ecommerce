import{_ as m,e as i,o as a,b as t,a as h,w as b,g as _,r as g,F as y,f as v,t as n,l}from"./app-3v67zvCm.js";const f={data(){return{shipping:0}},methods:{async fetchShipping(){var e;this.loading=!0;try{const s=await axios.get("http:///api/shipping");this.shipping=((e=s.data.data)==null?void 0:e.shipping)||0,this.$store.dispatch("shipping/updateAddress",this.shipping)}catch(s){console.error("Error fetching shipping:",s)}finally{this.loading=!1}},removeCart(e){const s={add:!1,size:null,product:e};this.$store.dispatch("cart/add_to_cart",s),l.success("Product has been removed form cart!")},productSize(e){return e.sizes.find(d=>d.id==e.size).name},productInCart(){return this.$store.state.cart.cart.some(s=>s.id==this.product.id)},incQty(e){this.$store.dispatch("cart/inc_qty",e),l.success("Product Quantity Increased!")},descQty(e){e.qty>1?(this.$store.dispatch("cart/desc_qty",e),l.success("Product Quantity Decreased!")):l.error("Quantiy must be at least 1!")}},mounted(){this.fetchShipping()}},C={class:"container"},$={"aria-label":"breadcrumb "},k={class:"breadcrumb py-3"},w={class:"breadcrumb-item"},x={key:0,class:"row"},z={class:"col-md-12"},Q={class:"table"},S={valign:"middle"},j={class:"col-1"},q=["src","alt"],F={valign:"top"},A={class:"py-3"},B={class:"btn btn-size ms-5"},N={class:"col-2"},P={class:"btn-group pt-2",role:"group"},V=["onClick"],H={type:"button",class:"btn btn-outline-secondary",disabled:""},L=["onClick"],M=["onClick"],D={key:1},E={class:"row justify-content-end"},I={class:"col-3"},T={class:"d-flex justify-content-between border-bottom mb-3"},G={class:"d-flex justify-content-between border-bottom mb-3"},O={class:"d-flex justify-content-between border-bottom mb-3"},Z={class:"d-flex justify-content-end my-4"};function J(e,s,d,K,c,r){const u=g("router-link");return a(),i("div",C,[t("nav",$,[t("ol",k,[t("li",w,[h(u,{to:"/"},{default:b(()=>s[0]||(s[0]=[_("Home")])),_:1})]),s[1]||(s[1]=t("li",{class:"breadcrumb-item active","aria-current":"page"},"Card",-1))])]),s[8]||(s[8]=t("div",{class:"mb-3"},[t("h2",null,"Card")],-1)),e.$store.state.cart.cart&&e.$store.state.cart.cart.length>0?(a(),i("div",x,[t("div",z,[t("table",Q,[t("tbody",null,[(a(!0),i(y,null,v(e.$store.state.cart.cart,o=>(a(),i("tr",S,[t("th",j,[t("img",{src:`uploads/products/small/${o.image}`,class:"img-fluid",alt:o.title},null,8,q)]),t("td",F,[t("h5",null,n(o.title),1),t("div",A,[t("span",null,"$"+n(o.price),1),t("button",B,n(r.productSize(o)),1)])]),t("td",N,[t("div",P,[t("button",{type:"button",class:"btn btn-outline-secondary",onClick:p=>r.descQty(o)}," - ",8,V),t("button",H,n(o.qty),1),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:p=>r.incQty(o)}," + ",8,L)])]),t("td",null,"$"+n(o.price*o.qty),1),t("td",null,[t("button",{class:"btn text-danger",onClick:p=>r.removeCart(o)},s[2]||(s[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-trash3",viewBox:"0 0 16 16"},[t("path",{d:"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"})],-1)]),8,M)])]))),256))])])])])):(a(),i("div",D,s[3]||(s[3]=[t("h5",{class:"text-info text-center col-6"},"Oops! Cart is empty",-1)]))),t("div",E,[t("div",I,[t("div",T,[s[4]||(s[4]=t("strong",null,"Subtotal",-1)),t("p",null,"$"+n(e.$store.getters["cart/subtotal"]),1)]),t("div",G,[s[5]||(s[5]=t("strong",null,"Shipping",-1)),t("p",null,"$"+n(c.shipping),1)]),t("div",O,[s[6]||(s[6]=t("strong",null,"Grand Total",-1)),t("p",null,"$"+n((parseFloat(e.$store.getters["cart/subtotal"])+parseFloat(c.shipping)).toFixed(2)),1)]),t("div",Z,[h(u,{to:"/checkout",class:"btn btn-primary"},{default:b(()=>s[7]||(s[7]=[_("Proceed to Checkout")])),_:1})])])])])}const U=m(f,[["render",J]]);export{U as default};

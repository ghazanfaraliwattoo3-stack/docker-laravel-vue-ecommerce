import{_ as u,e as w,o as p,b as r,D as c,h as i,n as m,t as P,C as l,d as h}from"./app-CXIB815l.js";const f={data(){return{oldPassword:"",newPassword:"",confirmPassword:"",message:"",isSuccess:!1,customerToken:this.$store.getters["customer/token"]}},methods:{async updatePassword(){var t,e,d,n;this.message="";try{const s=await h.post("/api/edit-password",{old_password:this.oldPassword,new_password:this.newPassword,new_password_confirmation:this.confirmPassword},{headers:{Authorization:`Bearer ${this.customerToken}`}});this.isSuccess=!0,this.message=s.data.message,this.oldPassword="",this.newPassword="",this.confirmPassword=""}catch(s){if(this.isSuccess=!1,(e=(t=s.response)==null?void 0:t.data)!=null&&e.errors){const a=Object.values(s.response.data.errors).flat();this.message=a.join(" ")}else this.message=((n=(d=s.response)==null?void 0:d.data)==null?void 0:n.message)||"Something went wrong!"}}}},g={class:"change-password py-5"};function y(t,e,d,n,s,a){return p(),w("div",g,[e[4]||(e[4]=r("h2",null,"Change Password",-1)),s.message?(p(),w("div",{key:0,class:m({alert:!0,"alert-success":s.isSuccess,"alert-danger":!s.isSuccess})},P(s.message),3)):c("",!0),i(r("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.oldPassword=o),type:"password",placeholder:"Old Password"},null,512),[[l,s.oldPassword]]),i(r("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.newPassword=o),type:"password",placeholder:"New Password"},null,512),[[l,s.newPassword]]),i(r("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.confirmPassword=o),type:"password",placeholder:"Confirm New Password"},null,512),[[l,s.confirmPassword]]),r("button",{onClick:e[3]||(e[3]=(...o)=>a.updatePassword&&a.updatePassword(...o))},"Update Password")])}const C=u(f,[["render",y],["__scopeId","data-v-0439488b"]]);export{C as default};

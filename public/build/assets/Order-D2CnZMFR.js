import{_ as h,e,o as s,b as t,F as u,f as p,a as _,w as m,g as y,r as f,t as r,D as d}from"./app-CXIB815l.js";const b={data(){return{all_orders:[],loading:!1,token:this.$store.getters["user/token"]}},methods:{async fetchAllOrders(){this.loading=!0;try{const o=await axios.get("/api/all-orders",{headers:{Authorization:`Bearer ${this.token}`}});o.status===200&&(this.all_orders=o.data.data)}catch(o){console.log("Error fetching products",o)}finally{this.loading=!1}},formatCreatedAt(o){const a={year:"numeric",month:"long",day:"numeric"};return new Date(o).toLocaleDateString("en-US",a)},getTotalAmount(o){return o.reduce((a,i)=>a+parseFloat(i.price),0).toFixed(2)}},mounted(){this.fetchAllOrders()}},k={class:"card border-0 shadow px-3"},x={key:0,class:"table"},A={key:0,class:"badge bg-success"},v={key:1,class:"badge bg-danger"},C={key:0,class:"badge bg-warning"},w={key:1,class:"badge bg-primary"},D={key:2,class:"badge bg-success"},N={key:3,class:"badge bg-danger"},S={key:1},O={key:2};function B(o,a,i,F,n,c){const g=f("router-link");return s(),e("div",k,[n.all_orders&&n.all_orders.length>0?(s(),e("table",x,[a[1]||(a[1]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"Customer"),t("th",{scope:"col"},"Email"),t("th",{scope:"col"},"Amount"),t("th",{scope:"col"},"Date"),t("th",{scope:"col"},"Payment Status"),t("th",{scope:"col"},"Status")])],-1)),t("tbody",null,[(s(!0),e(u,null,p(n.all_orders,l=>(s(),e("tr",{key:l.id},[t("td",null,[_(g,{to:{name:"admin-detail",params:{id:l.id}},class:"text-decoration-none text-dark"},{default:m(()=>a[0]||(a[0]=[y("1 ")])),_:2},1032,["to"])]),t("td",null,r(l.name),1),t("td",null,r(l.email),1),(s(!0),e(u,null,p(l.order_items,P=>(s(),e("td",null," $"+r(c.getTotalAmount(l.order_items)),1))),256)),t("td",null,r(c.formatCreatedAt(l.created_at)),1),t("td",null,[l.payment_status=="paid"?(s(),e("p",A," Paid ")):(s(),e("p",v,"Not Paid"))]),t("td",null,[l.status==="pending"?(s(),e("p",C," Pending ")):d("",!0),l.status==="shipped"?(s(),e("p",w," Shipped ")):d("",!0),l.status==="delivered"?(s(),e("p",D," Delivered ")):d("",!0),l.status==="cancelled"?(s(),e("p",N," Cancelled ")):d("",!0)])]))),128))])])):n.loading?(s(),e("table",S,a[2]||(a[2]=[t("thead",null,[t("tr",null,[t("div",{class:"d-flex justify-content-center py-5"},[t("div",{class:"spinner-border text-info",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")])])])],-1)]))):(s(),e("table",O,a[3]||(a[3]=[t("thead",null,[t("tr",null,[t("h3",{class:"text-center py-5 text-danger"}," Oops! No Order found! ")])],-1)])))])}const E=h(b,[["render",B]]);export{E as default};

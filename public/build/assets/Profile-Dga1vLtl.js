import{_ as c,e as n,o as d,b as t,h as a,C as l,G as f,d as m,l as p}from"./app-hbwqlvku.js";const u={data(){return{loading:!1,form:{name:"",email:"",address:"",city:"",state:"",zip:"",mobile:""},customerToken:this.$store.getters["customer/token"]}},methods:{onSubmit(){this.loading=!0,this.updateProfile(),this.loading=!1},async updateProfile(){this.loading=!0;try{(await m.post("/api/edit-user",{name:this.form.name,email:this.form.email,address:this.form.address,city:this.form.city,state:this.form.state,zip:this.form.zip,mobile:this.form.mobile},{headers:{Authorization:`Bearer ${this.customerToken}`,"Content-Type":"application/json"}})).status===200&&(this.getCustomerDetail(),p.success("Detail updated successfully!"))}catch(s){console.log(s)}finally{this.loading=!1}},async getCustomerDetail(){this.loading=!0;try{const s=await m.get("/api/customer-detail",{headers:{Authorization:`Bearer ${this.customerToken}`,"Content-Type":"application/json"}});if(s.status===200&&s.data.data){const e=s.data.data;this.form.name=s.data.data.name,this.form.email=s.data.data.email,this.form.address=s.data.data.address,this.form.city=s.data.data.city,this.form.state=s.data.data.state,this.form.zip=s.data.data.zip,this.form.mobile=s.data.data.mobile}}catch(s){console.log(s)}finally{this.loading=!1}}},mounted(){this.getCustomerDetail()}},h={key:0,class:"container border-0 shadow card p-3 pt-5"},y={class:"col-12 mb-3 d-flex"},b={class:"col-6 me-1"},v={class:"col-6"},_={class:"col-12 mb-3"},g={class:"col-12 mb-3 d-flex"},x={class:"col-6 me-1"},z={class:"col-6"},k={class:"col-12 mb-3 d-flex"},U={class:"col-6 me-1"},V={class:"col-6"},w={class:"clearfix"},C=["disabled"],T={key:1,class:"py-5"};function B(s,e,D,S,o,r){return o.loading?(d(),n("div",T,e[8]||(e[8]=[t("div",{class:"d-flex justify-content-center"},[t("div",{class:"spinner-border text-info",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")])],-1)]))):(d(),n("div",h,[t("form",{class:"row",onSubmit:e[7]||(e[7]=f((...i)=>r.onSubmit&&r.onSubmit(...i),["prevent"]))},[t("div",y,[t("div",b,[a(t("input",{type:"text",class:"form-control",placeholder:"name",name:"Name","onUpdate:modelValue":e[0]||(e[0]=i=>o.form.name=i)},null,512),[[l,o.form.name]])]),t("div",v,[a(t("input",{type:"email",class:"form-control",placeholder:"Email",name:"email","onUpdate:modelValue":e[1]||(e[1]=i=>o.form.email=i)},null,512),[[l,o.form.email]])])]),t("div",_,[a(t("textarea",{rows:"3",class:"form-control",placeholder:"Address",name:"address","onUpdate:modelValue":e[2]||(e[2]=i=>o.form.address=i)},null,512),[[l,o.form.address]])]),t("div",g,[t("div",x,[a(t("input",{type:"text",class:"form-control",placeholder:"City",name:"city","onUpdate:modelValue":e[3]||(e[3]=i=>o.form.city=i)},null,512),[[l,o.form.city]])]),t("div",z,[a(t("input",{type:"text",class:"form-control",placeholder:"State",name:"state","onUpdate:modelValue":e[4]||(e[4]=i=>o.form.state=i)},null,512),[[l,o.form.state]])])]),t("div",k,[t("div",U,[a(t("input",{type:"text",class:"form-control",placeholder:"Zip",name:"zip","onUpdate:modelValue":e[5]||(e[5]=i=>o.form.zip=i)},null,512),[[l,o.form.zip]])]),t("div",V,[a(t("input",{type:"text",class:"form-control",placeholder:"Mobile",name:"mobile","onUpdate:modelValue":e[6]||(e[6]=i=>o.form.mobile=i)},null,512),[[l,o.form.mobile]])])]),t("div",w,[t("button",{class:"float-end btn btn-info t text-light",disabled:o.loading}," Update ",8,C)])],32)]))}const A=c(u,[["render",B]]);export{A as default};

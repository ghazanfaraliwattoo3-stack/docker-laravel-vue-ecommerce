import{_ as p,e as f,o as c,b as r,G as h,h as a,C as i,n as t,t as l,a as w,w as b,g as v,r as g,d as y,l as n}from"./app-qlZLhr2V.js";const _={data(){return{user:{name:"",email:"",password:""},error:{name:"",email:"",password:""},errors:null}},methods:{async onSubmit(){const m=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;if(this.user.name)this.error.name="";else{this.error.name="Name is required";return}if(!this.user.email){this.error.email="Email is required";return}if(this.user.email&&!m.test(this.user.email)){this.error.email="Please enter a valid email";return}else this.error.email="";if(!this.user.password){this.error.password="Password is required";return}if(this.user.password.length<6){this.error.password="Password must be at least 6 characters";return}else this.error.password="";try{(await y.post("/api/user/register",{name:this.user.name,email:this.user.email,password:this.user.password})).status===200&&(n.success("Registered successfully! Please login."),this.$router.push("/login"))}catch(s){s.response?(this.errors=s.response.data.errors,this.errors&&(this.error.name=this.errors.name?this.errors.name[0]:"",this.error.email=this.errors.email?this.errors.email[0]:"",this.error.password=this.errors.password?this.errors.password[0]:""),s.response.data.message&&n.error(s.response.data.message)):n.error("An error occurred. Please try again.")}}}},x={class:"row my-3"},k={class:"col-4 mx-auto py-5 border-0 card shadow"},P={class:"mb-3"},V={class:"invalid-feedback"},A={class:"mb-3"},N={class:"invalid-feedback"},S={class:"mb-3"},z={class:"invalid-feedback"},C={class:"text-center mt-3"};function E(m,s,R,q,e,d){const u=g("router-link");return c(),f("div",x,[r("div",k,[r("form",{onSubmit:s[3]||(s[3]=h((...o)=>d.onSubmit&&d.onSubmit(...o),["prevent"]))},[s[9]||(s[9]=r("h3",{class:"text-center pb-3"},"Registration Form",-1)),r("div",P,[s[4]||(s[4]=r("label",{for:"name",class:"form-label"},"Full Name",-1)),a(r("input",{name:"name",class:t(["form-control my-1",{"is-invalid":e.error.name}]),"onUpdate:modelValue":s[0]||(s[0]=o=>e.user.name=o)},null,2),[[i,e.user.name]]),r("span",V,l(e.error.name),1)]),r("div",A,[s[5]||(s[5]=r("label",{for:"email",class:"form-label"},"Email",-1)),a(r("input",{name:"email",class:t(["form-control my-1",{"is-invalid":e.error.email}]),"onUpdate:modelValue":s[1]||(s[1]=o=>e.user.email=o)},null,2),[[i,e.user.email]]),r("span",N,l(e.error.email),1)]),r("div",S,[s[6]||(s[6]=r("label",{for:"password",class:"form-label"},"Password",-1)),a(r("input",{name:"password",type:"password",class:t(["form-control my-1",{"is-invalid":e.error.password}]),"onUpdate:modelValue":s[2]||(s[2]=o=>e.user.password=o)},null,2),[[i,e.user.password]]),r("span",z,l(e.error.password),1)]),s[10]||(s[10]=r("div",{class:"py-3"},[r("button",{class:"btn btn-dark"},"Register")],-1)),r("div",C,[s[8]||(s[8]=r("span",null,"Already have an account? ",-1)),w(u,{to:"/login",class:"text-primary"},{default:b(()=>s[7]||(s[7]=[v("Login")])),_:1})])],32)])])}const U=p(_,[["render",E],["__scopeId","data-v-c61f47f1"]]);export{U as default};

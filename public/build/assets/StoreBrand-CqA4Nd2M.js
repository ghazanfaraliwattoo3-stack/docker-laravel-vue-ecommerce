import{_ as F,e as r,o as a,b as s,a as n,w as c,g as E,r as l,D as B,F as u,f as p,t as S,h as A,H as C,d as N,l as b}from"./app-hbwqlvku.js";import{E as V,F as w,a as D,c as M,b as I}from"./index.esm-CNk301a5.js";const $={name:"brand Create",components:{Form:D,Field:w,ErrorMessage:V},data(){return{schema:M().shape({name:I().required()}),isActive:1,loading:!0,errors:null}},methods:{async onSubmit(i){const e=i.name,d=this.$store.getters["user/token"];try{(await N.post("/api/brands/",{name:e,status:this.isActive},{headers:{Authorization:`Bearer ${d}`}})).status===200&&(b.success("brand added successfully"),this.$refs.form.resetForm(),this.isActive=1)}catch(t){t.response?t.response.data.errors?this.errors=t.response.data.errors:this.errors=t.response.data.message:b.error("Oops, Failed to create brand")}}}},H={class:"container"},j={class:"d-flex justify-content-end"},q={key:0,class:"alert alert-danger"},z={class:"mb-3"},G={class:"mb-3"};function L(i,e,d,t,o,f){const v=l("router-link"),_=l("Field"),x=l("ErrorMessage"),h=l("Form");return a(),r("div",H,[s("div",j,[n(v,{to:{name:"brands"},class:"btn text-decoration-underline"},{default:c(()=>e[1]||(e[1]=[E("Go to back")])),_:1})]),e[6]||(e[6]=s("h3",{class:"text-center mb-md-5"},"Create Brand",-1)),n(h,{class:"col-md-8 mx-auto",onSubmit:f.onSubmit,"validation-schema":o.schema,ref:"form"},{default:c(()=>[o.errors?(a(),r("div",q,[(a(!0),r(u,null,p(o.errors,(m,k)=>(a(),r("div",{key:k},[(a(!0),r(u,null,p(m,(g,y)=>(a(),r("span",{key:y},S(g),1))),128))]))),128))])):B("",!0),s("div",z,[e[2]||(e[2]=s("label",{for:"exampleInputEmail1",class:"form-label"},"Name",-1)),n(_,{type:"email",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter brand",name:"name"}),n(x,{name:"name",class:"text-danger"})]),s("div",G,[e[4]||(e[4]=s("label",{for:"exampleInputEmail1",class:"form-label"}," Status ",-1)),A(s("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":e[0]||(e[0]=m=>o.isActive=m)},e[3]||(e[3]=[s("option",{value:"1",selected:""},"Active",-1),s("option",{value:"0"},"Block",-1)]),512),[[C,o.isActive]])]),e[5]||(e[5]=s("button",{type:"submit",class:"btn btn-dark"},"Create Brand",-1))]),_:1},8,["onSubmit","validation-schema"])])}const U=F($,[["render",L]]);export{U as default};

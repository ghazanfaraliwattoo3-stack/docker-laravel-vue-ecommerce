import{_ as C,e as r,o,b as s,a as n,w as d,g as F,r as l,D as E,F as u,f as p,t as S,h as A,H as B,d as N,l as f}from"./app-qlZLhr2V.js";import{E as V,F as w,a as D,c as M,b as I}from"./index.esm-CSRjk5TC.js";const $={name:"Category Create",components:{Form:D,Field:w,ErrorMessage:V},data(){return{schema:M().shape({name:I().required()}),isActive:1,loading:!0,errors:null}},methods:{async onSubmit(i){const e=i.name,c=this.$store.getters["user/token"];try{(await N.post("/api/categories/",{name:e,status:this.isActive},{headers:{Authorization:`Bearer ${c}`}})).status===200&&(f.success("Category added successfully"),this.$refs.form.resetForm(),this.isActive=1)}catch(t){t.response?t.response.data.errors?this.errors=t.response.data.errors:this.errors=t.response.data.message:f.error("Oops, Failed to create category")}}}},H={class:"container"},j={class:"d-flex justify-content-end"},q={key:0,class:"alert alert-danger"},z={class:"mb-3"},G={class:"mb-3"};function L(i,e,c,t,a,b){const g=l("router-link"),v=l("Field"),y=l("ErrorMessage"),_=l("Form");return o(),r("div",H,[s("div",j,[n(g,{to:{name:"categories"},class:"btn text-decoration-underline"},{default:d(()=>e[1]||(e[1]=[F("Go to back")])),_:1})]),e[6]||(e[6]=s("h3",{class:"text-center mb-md-5"},"Create Category",-1)),n(_,{class:"col-md-8 mx-auto",onSubmit:b.onSubmit,"validation-schema":a.schema,ref:"form"},{default:d(()=>[a.errors?(o(),r("div",q,[(o(!0),r(u,null,p(a.errors,(m,x)=>(o(),r("div",{key:x},[(o(!0),r(u,null,p(m,(h,k)=>(o(),r("span",{key:k},S(h),1))),128))]))),128))])):E("",!0),s("div",z,[e[2]||(e[2]=s("label",{for:"exampleInputEmail1",class:"form-label"},"Name",-1)),n(v,{type:"email",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter Category",name:"name"}),n(y,{name:"name",class:"text-danger"})]),s("div",G,[e[4]||(e[4]=s("label",{for:"exampleInputEmail1",class:"form-label"}," Status ",-1)),A(s("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":e[0]||(e[0]=m=>a.isActive=m)},e[3]||(e[3]=[s("option",{value:"1",selected:""},"Active",-1),s("option",{value:"0"},"Block",-1)]),512),[[B,a.isActive]])]),e[5]||(e[5]=s("button",{type:"submit",class:"btn btn-dark"},"Create Category",-1))]),_:1},8,["onSubmit","validation-schema"])])}const U=C($,[["render",L]]);export{U as default};

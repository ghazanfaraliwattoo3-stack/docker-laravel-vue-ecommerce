import{_ as C,e as r,o as l,b as s,a as x,w as B,g as V,t as c,r as z,D as b,F as u,f as m,h as i,C as d,H as g,v as F,G as U,d as p,l as y}from"./app-X79I1gIu.js";import{E as _,F as N,a as D}from"./index.esm-CdbYYQCq.js";const E={name:"product Create",components:{Form:D,Field:N,ErrorMessage:_},data(){return{isActive:1,loading:!1,errors:null,title:"",category:"",brand:"",short_description:"",description:"",price:"",description:"",comapre_price:"",sku:"",barcode:"",qty:"",status:"",image:null,image_id:"",imageName:"",showCategory:[],showBrand:[],is_featured:"",sizes:[],selectSizes:[]}},methods:{async handleFileChange(a){this.loading=!0;const e=this.$store.getters["user/token"],n=new FormData,v=a.target.files[0];this.image=v,n.append("image",this.image);try{const t=await p.post("/api/images",n,{headers:{Authorization:`Bearer ${e}`}});t.status===200&&(this.image_id=t.data.data.id,this.imageName=t.data.data.name)}catch(t){y.error("Oops, Failed to create images"),console.log(t)}finally{this.loading=!1}},async fetchCategory(){this.loading=!0;const a=this.$store.getters["user/token"];try{const e=await p.get("/api/categories",{headers:{Authorization:`Bearer ${a}`}});e.status===200&&(this.loading=!1,this.showCategory=e.data.data)}catch(e){console.log("Error fetching categories",e)}},async fetchSizes(){const a=this.$store.getters["user/token"];this.loading=!0;try{const e=await p.get("/api/sizes",{headers:{Authorization:`Bearer ${a}`}});e.status===200&&(this.loading=!1,this.sizes=e.data.data)}catch(e){console.log("Error fetching brands",e)}},async fetchbrand(){const a=this.$store.getters["user/token"];this.loading=!0;try{const e=await p.get("/api/brands",{headers:{Authorization:`Bearer ${a}`}});e.status===200&&(this.loading=!1,this.showBrand=e.data.data)}catch(e){console.log("Error fetching brands",e)}},async onSubmit(a){a.name;const e=this.$store.getters["user/token"];try{(await p.post("/api/products",{title:this.title,price:this.price,compare_price:this.compare_price,category_id:this.category,brand_id:this.brand,qty:this.qty,sku:this.sku,barcode:this.barcode,short_description:this.short_description,description:this.description,status:this.status,is_featured:this.is_featured,image:this.image_id,sizes:this.selectSizes},{headers:{Authorization:`Bearer ${e}`}})).status===200&&(y.success("brand added successfully"),this.$router.push({name:"products"}))}catch(n){n.response?n.response.data.errors?this.errors=n.response.data.errors:this.errors=n.response.data.message:(y.error("Oops, Failed to create brand"),console.log(n))}}},mounted(){this.fetchCategory(),this.fetchbrand(),this.fetchSizes()}},q={class:"container"},A={class:"d-flex justify-content-end"},P={key:0,class:"alert alert-danger"},H={class:"row"},M={class:"mb-3 col-12"},I={class:"mb-3 col-md-6 col-12"},T=["value"],G={class:"mb-3 col-md-6 col-12"},O=["value"],j={class:"mb-3"},L={class:"mb-3"},Q={class:"mb-3 col-md-6 col-12"},Y={class:"mb-3 col-md-6 col-12"},J={class:"mb-3 col-md-6 col-12"},K={class:"mb-3 col-md-6 col-12"},R={class:"mb-3 col-md-6 col-12"},W={class:"mb-3 col-md-6 col-12"},X={class:"mb-3 col-12"},Z={class:"d-flex flex-wrap gap-1"},$=["id","value"],ee=["for"],se={class:"mb-3 col-12"},te={key:0,class:"my-3"},oe=["src","alt"],re=["disabled"];function le(a,e,n,v,t,f){const k=z("router-link");return l(),r("div",q,[s("div",A,[x(k,{to:{name:"products"},class:"btn text-decoration-underline"},{default:B(()=>[V("Go to back"+c(t.image_id),1)]),_:1})]),e[36]||(e[36]=s("h3",{class:"text-center mb-md-5"},"Create product",-1)),s("form",{class:"col-md-8 mx-auto",onSubmit:e[14]||(e[14]=U((...o)=>f.onSubmit&&f.onSubmit(...o),["prevent"]))},[t.errors?(l(),r("div",P,[(l(!0),r(u,null,m(t.errors,(o,h)=>(l(),r("div",{key:h},[(l(!0),r(u,null,m(o,(w,S)=>(l(),r("span",{key:S},c(w),1))),128))]))),128))])):b("",!0),s("div",H,[s("div",M,[e[15]||(e[15]=s("label",{for:"title",class:"form-label"},"Title",-1)),i(s("input",{type:"text",class:"form-control",id:"title","aria-describedby":"emailHelp",placeholder:"Enter product","onUpdate:modelValue":e[0]||(e[0]=o=>t.title=o)},null,512),[[d,t.title]])]),s("div",I,[e[17]||(e[17]=s("label",{for:"category",class:"form-label"}," Category ",-1)),t.showCategory&&t.showCategory.length>0?i((l(),r("select",{key:0,class:"form-select","aria-label":"Default select example",as:"select",id:"category","onUpdate:modelValue":e[1]||(e[1]=o=>t.category=o)},[e[16]||(e[16]=s("option",{value:"",disabled:""},"Select a Category",-1)),(l(!0),r(u,null,m(t.showCategory,o=>(l(),r("option",{key:o.id,value:o.id},c(o.name),9,T))),128))],512)),[[g,t.category]]):b("",!0)]),s("div",G,[e[19]||(e[19]=s("label",{for:"brand",class:"form-label"}," Brand ",-1)),t.showBrand&&t.showBrand.length>0?i((l(),r("select",{key:0,class:"form-select","aria-label":"Default select example",id:"brand",as:"select","onUpdate:modelValue":e[2]||(e[2]=o=>t.brand=o)},[e[18]||(e[18]=s("option",{value:"",disabled:""},"Select a Brand",-1)),(l(!0),r(u,null,m(t.showBrand,o=>(l(),r("option",{key:o.id,value:o.id},c(o.name),9,O))),128))],512)),[[g,t.brand]]):b("",!0)]),s("div",j,[e[20]||(e[20]=s("label",{for:"short_description",class:"form-label"},"Short Description",-1)),i(s("textarea",{class:"form-control",id:"short_description",rows:"3",placeholder:"Short Description","onUpdate:modelValue":e[3]||(e[3]=o=>t.short_description=o)},null,512),[[d,t.short_description]])]),s("div",L,[e[21]||(e[21]=s("label",{for:"",class:"form-label"},"Description",-1)),i(s("textarea",{class:"form-control",id:"description",rows:"7",placeholder:"description","onUpdate:modelValue":e[4]||(e[4]=o=>t.description=o)},null,512),[[d,t.description]])]),e[32]||(e[32]=s("h3",{class:"my-3"},"Pricing",-1)),s("div",Q,[e[22]||(e[22]=s("label",{for:"price",class:"form-label"}," Price ",-1)),i(s("input",{type:"number",class:"form-control",id:"price","aria-describedby":"emailHelp",placeholder:"Enter price","onUpdate:modelValue":e[5]||(e[5]=o=>t.price=o)},null,512),[[d,t.price]])]),s("div",Y,[e[23]||(e[23]=s("label",{for:"compare_price",class:"form-label"}," Comapre Price ",-1)),i(s("input",{type:"number",class:"form-control",id:"compare_price","aria-describedby":"emailHelp",placeholder:"Enter compare price","onUpdate:modelValue":e[6]||(e[6]=o=>a.compare_price=o)},null,512),[[d,a.compare_price]])]),e[33]||(e[33]=s("h3",{class:"my-3"},"Inventory",-1)),s("div",J,[e[24]||(e[24]=s("label",{for:"sku",class:"form-label"}," Sku ",-1)),i(s("input",{type:"text",class:"form-control",id:"sku","aria-describedby":"emailHelp",placeholder:"Sku","onUpdate:modelValue":e[7]||(e[7]=o=>t.sku=o)},null,512),[[d,t.sku]])]),s("div",K,[e[25]||(e[25]=s("label",{for:"barcode",class:"form-label"}," Barcode ",-1)),i(s("input",{type:"text",class:"form-control",id:"barcode",placeholder:"barcode","onUpdate:modelValue":e[8]||(e[8]=o=>t.barcode=o)},null,512),[[d,t.barcode]])]),s("div",R,[e[26]||(e[26]=s("label",{class:"form-label",for:"qty"}," Qty ",-1)),i(s("input",{type:"number",class:"form-control",id:"qty",placeholder:"qty","onUpdate:modelValue":e[9]||(e[9]=o=>t.qty=o)},null,512),[[d,t.qty]])]),s("div",W,[e[28]||(e[28]=s("label",{for:"status",class:"form-label"}," Status ",-1)),i(s("select",{class:"form-select",id:"status",as:"select","onUpdate:modelValue":e[10]||(e[10]=o=>t.status=o)},e[27]||(e[27]=[s("option",{value:"",disabled:""},"Select a status",-1),s("option",{value:"1",selected:""},"Active",-1),s("option",{value:"0"},"Block",-1)]),512),[[g,t.status]])]),e[34]||(e[34]=s("h3",{class:"my-3"},"Product Image",-1)),s("div",X,[e[30]||(e[30]=s("label",{for:"featured ",class:"form-label"}," Featured ",-1)),i(s("select",{class:"form-select",id:"featured ",as:"select","onUpdate:modelValue":e[11]||(e[11]=o=>t.is_featured=o)},e[29]||(e[29]=[s("option",{value:"",disabled:""},"Select a featured",-1),s("option",{value:"yes",selected:""},"Yes",-1),s("option",{value:"no"},"No",-1)]),512),[[g,t.is_featured]])]),e[35]||(e[35]=s("h3",{class:"my-3"},"Product Sizes",-1)),s("div",Z,[(l(!0),r(u,null,m(t.sizes,o=>(l(),r("div",{class:"form-check form-check-inline",key:o.id},[i(s("input",{class:"form-check-input",type:"checkbox",id:"size-"+o.id,value:o.id,"onUpdate:modelValue":e[12]||(e[12]=h=>t.selectSizes=h)},null,8,$),[[F,t.selectSizes]]),s("label",{class:"form-check-label",for:"size-"+o.id},c(o.name),9,ee)]))),128))]),s("div",se,[e[31]||(e[31]=s("label",{for:"image",class:"form-label"},"Image",-1)),s("input",{type:"file",class:"form-control",id:"image",onChange:e[13]||(e[13]=(...o)=>f.handleFileChange&&f.handleFileChange(...o))},null,32)]),t.imageName?(l(),r("div",te,[s("img",{src:`/uploads/temp/${t.imageName}`,class:"img-fluid rounded-top",alt:t.imageName},null,8,oe)])):b("",!0)]),s("button",{type:"submit",class:"btn btn-dark",disabled:t.loading}," Create product ",8,re)],32)])}const ne=C(E,[["render",le]]);export{ne as default};
